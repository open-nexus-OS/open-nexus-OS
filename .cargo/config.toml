[build]
# Allow custom cfg used across the workspace to avoid `unexpected_cfgs` warnings
# and default to host environment for tests and development
rustflags = [
    "--check-cfg=cfg(nexus_env, values(\"host\",\"os\"))",
    "--cfg", "nexus_env=\"host\"",
]
rustdocflags = ["--cfg", "nexus_env=\"host\""]

# RISC-V kernel target (no nexus_env needed for kernel)
[target.riscv64imac-unknown-none-elf]
rustflags = [
    "-C", "relocation-model=static",
    "-Z", "share-generics=y",
    "-C", "link-arg=-Tsource/kernel/neuron-boot/kernel.ld",
]
