[package]
name = "policyd"
version = "0.1.0"
edition = "2021"
license = "Apache-2.0"

[features]
default = ["idl-capnp"]
idl-capnp = ["nexus-idl-runtime/capnp", "dep:capnp"]

[lib]
path = "src/lib.rs"

[dependencies]
policy = { path = "../../../userspace/policy" }
nexus-idl-runtime = { path = "../../../userspace/nexus-idl-runtime" }
capnp = { version = "0.19", optional = true }
nexus-ipc = { path = "../../../userspace/nexus-ipc" }
thiserror = "1"

[[bin]]
name = "policyd"
path = "src/main.rs"
